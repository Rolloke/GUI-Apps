History:
	06.12.01 -----Statusbericht ------
		- Folgende Kommandos zum Tashaboard implementiert:
			DoRequestSetBrightness		-> funktionsfähig
			OnConfirmSetBrightness		-> funktionsfähig
			DoRequestSetContrast		-> funktionsfähig
			OnConfirmSetContrast		-> funktionsfähig
			DoRequestSetSaturation		-> funktionsfähig
			OnConfirmSetSaturation		-> funktionsfähig
			DoRequestGetBrightness		-> funktionsfähig
			OnConfirmGetBrightness		-> funktionsfähig
			DoRequestGetContrast		-> funktionsfähig
			OnConfirmGetContrast		-> funktionsfähig
			DoRequestGetSaturation		-> funktionsfähig
			OnConfirmGetSaturation		-> funktionsfähig
			DoRequestStartCapture		-> funktionsfähig
			OnConfirmStartCapture		-> funktionsfähig
			DoRequestStopCapture		-> funktionsfähig
			OnConfirmStopCapture		-> funktionsfähig
			DoRequestPauseCapture		-> funktionsfähig
			OnConfirmPauseCapture		-> funktionsfähig
			DoRequestResumeCapture		-> funktionsfähig
			OnConfirmResumeCapture		-> funktionsfähig
			DoRequestSetInputSource		-> Dummy
			OnConfirmSetInputSource		-> Dummy
			DoRequestGetInputSource		-> Dummy
			OnConfirmGetInputSource		-> Dummy
			DoRequestScanForCameras		-> Dummy
			OnConfirmScanForCameras		-> Dummy
			DoRequestSetRelayState		-> Dummy
			OnConfirmSetRelayState		-> Dummy
			DoRequestGetRelayState		-> Dummy
			OnConfirmGetRelayState		-> Dummy
			DoRequestGetAlarmState		-> Dummy
			OnConfirmGetAlarmState		-> Dummy
			DoRequestSetAlarmEdge		-> Dummy
			OnConfirmSetAlarmEdge		-> Dummy
			DoRequestGetAlarmEdge		-> Dummy
			OnConfirmGetAlarmEdge		-> Dummy
			OnReceiveNewCodecData		-> funktionsfähig
			DoConfirmReceiveNewCodecData-> funktionsfähig

		- CIPCInput und CIPCOutput verbindung zu DVProcess
		  Es werden Bilder der Tasha im DTS angezeigt.


		- Viele Details sind derzeit nicht implementiert, oder hardgecoded.
	
	14.12.01
		- Die Tashafirmware gaukelt dem DTS nun ein 4 Kamerasystem vor. Es lassen sich
		  für jede der 4 'Kameras' Helligkeit, Kontrast und Farbsättigung getrennt einstellen.
		  Diese Einstellungen werden aber derzeit nicht in der Registrierung gesichert.
		  Das I2C-Bus Handling des Trimedias scheint schnell genug zu sein um das Videofrontend
		  bei jeder Umschaltung entsprechend zu konfigurieren.
		- Die 5 stärksten Bewegungspunkte jeder Kamera werden dem DTS nun mitgeteilt und korrekt dargestellt.
		
	07.01.02
		- 3 Wochen Dauertest mit I2C-Bus Zugriffen und simulierter Umschaltung perfekt bestanden!


28.07.03
	- Reaktivierung des Projektes zwecks Verwendung mit dem neuen Tasha Board basierent auf dem
	  Blakfin BF535/BF533!
	- Das Request/Confirm-Interface soll weitestgehend erhalten bleiben.
	- An die Stelle der Messagechannels wird ein Callbacks/Shared-Memory mechanismuß treten.

11.08.03
	- Zeitdauer bis zum Ack des Blakfins: 140ys
	- Zeitdauer bis zum Confirm des Blakfins: 380ys (Einschließlich der Ack-Zeit)

11.09.03
	- Interface zum Transfer der EPLD-Daten integriert.

22.10.03
	- Die TashUnit besitzt nun für jeden Channel einen Circularbuffer, der in der ISR
	  mit Daten gefüllt wird. 
	- Der 'ReadData'-Thread sucht die CircularBuffer nach Frames ab, und leitet
	  diese dann weiter. Dadurch ist nun eine variable Framegröße möglich!

27.11.03
	- Aktueller Zwischenstand der Entwicklung:
		- Folgende Dinge sind implementiert und funktionieren:
			- TDM Übertragung der Bilddaten von den BF533 über die SPORTs zum BF535
			- Demultiplexen des TDM-Datenstroms und Transfer über den PCI-Bus zur TashaUnit
			- Die Datenpakete von den BF533er enthalten bislang die folgenden Dinge:
				- ImageHeader
				- Unkomprimierte YUV422 Bilddaten
				- Differenzbild
				- Adaptive Maske
				- Permanente Maske.
			- Transfer der EPLD-Daten zum Altera.
			- Ansprechen des Alteras.
			- Booten der BF533er über den SPI1 vom BF535
			- Lesen und Schreiben des EEProms 
			- Senden von Steuerkommandos an die BF533er über den SPI1
					- Setzen/Abfragen der Helligkeit
					- Setzen/Abfragen des Kontrastes
					- Setzen/Abfragen der Farbsättigung
					- Setzen/Abfragen der Parametrierung für die Bewegungserkennung.
					- Übertragen der permanenten Maske zu den BF533er über den SPI1
			- Darstellung des Livebildes einer/mehrerer Kameras mit 25fps/Kamera
			- Darstellung des Differenzbildes einer/mehrerer Kameras mit 25fps/Kamera
			- Darstellung der adaptiven und permanenten Maksken über dem Livebild einer/mehrerer Kameras.
			- Zeichen und Löschen der permanenten Maske im Livebild und gleichzeitiger Übertragung der
			  Änderungen über den SPI zum BF533.
			- Speichern aller wichtigen Einstellungen in der Registry.
			- Anbindung der TashaUnit über die CIPC an den DTS (Verkauft sich im Moment als SaVic)

		- Folgende Dinge sind noch zu Implementieren, bzw. zu Ändern.
			- Die CoreTimer-Interruptroutine durch eine Timerinterruptroutine niederer Príorität, da
			  ansonsten die SPI-Kommunikation die SPORT-Übertragung stören kann.
			- Weitere Fehlerbehandlungen und Meldungen (Auch von den BF533er)
			- Der PPI muß nach einem Kameraausfall neu gestartet werden.
			- Einbindung des MPEG4-Encoders
			- Einbindung des Philips Frontends
			- SlaveSelect über den Altera beim Booten der BF533
			- SlaveSelect über den Altera bei der Kommunikation über den SPI
			- Abfrage der Alarmeingänge über den Altera
			- Setzten des Relais über den Altera.
			- Enablen der Videoeingänge
			- Schalten der analogen Videoausgänge
			- Watchdog Funktionalität
			- Dongle Funktionalität im EEProm
			- Verschlüsselung der DSP-Programme.
			- Prüfsumme der Datenpakete, die über den SPORT kommen.
			- TashaUnit im SystemTray.
			- Der Treiber (HACC.sys) durch Tasha.sys ersetzen. 
			- Evtl. eigene ISR in Tash.sys implementieren. (Veringerte Latenzzeiten)
			- Anpassung der PCI Vendor IDs im Boot-EEProm des BF535
			- Auslagerung der CCodec-Klasse in eine seperate DLl (Tasha.dll)
			- Schreiben eines Test und Prüfprogrammes für das Tasha-Board.


05.02.04
	- Booten über einen Bootloader ist vorbereitet.
		 
16.02.04
	- Die Klasse CCodec aufgeteilt in CMyTasha und CCodec. Dieser Schritt ist notwendig, sobald
	  das Projekt in eine TashaUnit und eine TashaDll aufgeteilt wird.
	- jpeglib.lib gegen vimage.lib getauscht.

29.03.04
	- TashaUnit ins Systemtray
	- ApplicationIDs etc. für die Tasha in der CIPC eingepflegt.
	- Mehrkartenbetrieb integriert und mit 2 Boards erfolgreich getestet.
	 
31.03.04
	- SubStream aus dem DATA_PACKET entfernt

05.04.04
	-	Folgende CIPC-Kommandos implementiert
			- OnRequestStartVideo
			- OnRequestStopVideo
			- DoIndicateVideo
			- OnRequestSetValue (CSD_V_OUT)
	- Prozessmanagement, JobQueue wird nicht benötigt und wurde entfernt.

06.04.04
	- CIPCOutputTashaUnit unterstützt nun bis zu zwei Streams pro DSP.
	
	- Setzen der Empfindlichkeit der Maske und der Bewegungsempfindlichkeit über CIPC implementiert.
	- Schalten des analogen Videoouts über CIPC implementiert.
		
07.04.2004
	- WM_SELFCHECK Message handling hinzugefügt.

20.04.2004
	- Bugfix: Helligkeit, Contrast und Farbsättigung lassen sich nun auch über DVClient regeln
	
27.04.2004
	- CSD_MD_MASK_SENSITIVITY und CSD_MD_ALARM_SENSITIVITY arbeiten nun korrekt.

30.04.2004
	- BF533RecoveryTimeout, BF535RecoveryTimeout, StreamRecoveryTimeout und Watchdog Timeout
	  sind nun unter TashaUnit\DeviceX\Recovery\... einstellbar/aktivierbar/deaktivierbar
	- Im NICHT-Standalone betrieb wird der Codec erst gestartet, wenn alle DSPs gebootet sind,
	  nicht schon nach dem ersten, wie bislang.

06.05.2004
	- Bugfix: Der Status der Adapter und PC-Keys wurde fehlerhaft dargestellt
	- Bei erhalt der Message WM_QUERYENDSESSION wird die TashaUnit geordnet beendet.

07.05.2004
	- Wenn keine Bewegung vorhanden ist, wird das Koordinatenpaar, in 'DoIndicateVideo(...)' auf
	  (DWORD)-1 gesetzt. Dadurch ist auch der obere linke Block eine gültige Bewegungskoordinate

10.05.2004
	- Die TashaUnit besitzt nun zwei Preview Windows zum anzeigen beider Streams.

12.05.2004
	- Bei Kameraausfall wurde das DoIndicateError nicht korrekt verschickt.
	
19.05.2004
	- Bugfix: Debugtrace von 'DoRequestSetRelayState/DoRequestGetRelayState' war nicht abschaltbar
	- Delay von 1000ms zwischen Tashaboard-Scan und Bootvorgang.
	- Den fake auf 12fps/QCIF herausgenommen

21.05.2004
	- Der Bootprocess wird nun durch einen Progress Control dargestellt.
	- CCodec::OnNotifyBootProcessComplete signalisiert nun, wann der Bootprozess abgeschlossen ist.

26.05.2004
	- In 'CTashaUnitDlg::OnConfirmOpenDevice' werden zunächst evtl. bestehende CIPCInput/CIPCOutput-
	  Objekte zerstört.

27.05.2004
	- Den Timeout beim Booten der BF533er von 5000ms auf 500ms verringert, da das Booten
	  nun mit 10MHz erfolgt, anstatt mit 200KHz!!

04.06.2004
	- Bugfix: Idip5 175/283 Der Relaystatus wird im IdipClient nun korrekt angezeigt.
	  (Der Status wurde über die CameraOutput anstatt über die RelayOutput Verbindung gesendet)
	- Versionsinfo in die Resource eingebaut
18.06.2004
	- Änderung: Der DVProcess und Sec3 liefern nun die gewünschte StreamID (0 oder 1) über 'dwUserData'
	  in 'OnRequestStartVideo/OnRequestStaopVideo' 
	  Beim zweiten Stream muß nun jedes Bild einzeln über 'DoRequestNewSingleFrame' angefordert werden.

22.06.2004
	- Der CIF-fake ist raus, d.h. es können nun Halbbilder UND CIF-Bilder angefordert werden.
	  
28.06.2004
	- DoRequestSetValue(CSD_TERM,...) und DoRequestGetValue(CSD_TERM, ...) sind nun implementiert.
	  Mit diesen beiden Funktionen kann der Status der Terminierung gelesen und geändert werden.

12.07.2004
	- Bugfix: War der Dialog zum Setzen der Terminierung/Analogen Ausgänge offen. 
	- Bugfix DV3 BugNr.56 Fehler in der Behandlung der Message CSD_TERM.

14.07.2004
	- Im 'nicht-standalone'-Betrieb ist nun ein Benutzer/Kennwort notwendig, um an die Settings zu kommen.

10.08.2004
	- TashaUnitDlg von Modal auf Nichtmodal geändert, da Probleme beim beim Verstecken des Dialogs
	  auftraten.

11.08.2004
	- Das Ereignis 'VideoStreamAborted' und VideoStreamResumed' werden nicht mehr als Laufzeitfehler 
	  angezeigt, sondern lediglich im Logfile protokolliert. Der Server erhält auch keine
	  'DoIndicateError' Mitteilung, da er auf dieses Ereignis nicht speziell reagieren muß. Die TashaUnit
	  behandelt es nun selbständig.

26.08.2004
	- Bilder und Alarme werden nur noch bei bestehender CIPC-Verbindung gemeldet.

19.10.2004
	- Es wird nun sichergestellt, das zwei Bilder einer Kamera einen zeitlichen mindestabstand
	  von 40ms als Timestamp erhalten.
	- Bei Kameraausfall wird nun ein mpeg4-Testbild versendet.

28.10.2004
	- Das Drücken des SoftPower-Buttons wird nun analog der anderen Units dem DVClient mitgeteilt.
	- Das Drücken des SoftReset-Bottons wird nun DVProcess mitgeteilt, der dann einen Serverreset
	  einleitet.
15.11.2004
	- UF Bugfix Encoderparametervergleich	  

16.11.2004
	- Encoderparametervergleich aufgeräumt

22.11.2004
	- Bugfix Idip5 629: RESOLUTION_LOW bedeutet für den 1. Stream 'CIF-Auflösung' und für den 2. Stream 'QCIF-Auflösung.
		// RESOLUTION_HIGH = für den 1.Stream: 2CIF (704x288), für den 2. Stream:CIF (352x288)
		// RESOLUTION_LOW  = für den 1.Stream: CIF (352x288),  für den 2. Stream:QCIF (176x144)

06.12.2004
	- Alle Threads mit Hilfe von XTIB::SetThreadName benannt

25.01.2005
	- CIPC-Interface zur Ansteuerung der LEDs geschaffen.

03.02.2005
	- Das Testbild wird nun ins DataPacket eingefügt, dadurch erscheint es auch im Standalonebetrieb.