/////////////////////////////////////////////////////////////////////////////
// PROJECT:		JaCobDll
// FILE:		$Workfile: ctmapp.cpp $
// ARCHIVE:		$Archive: /Project/Units/Tasha/TashaFirmware/ctmapp.cpp $
// CHECKIN:		$Date: 11.12.01 9:23 $
// VERSION:		$Revision: 5 $
// LAST CHANGE:	$Modtime: 11.12.01 9:12 $
// BY AUTHOR:	$Author: Martin $
// $Nokeywords:$
//////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////
#include "tm.h"
#include "CCodec.h"
#include "CTmApp.h"

CTmApp theApp;

///////////////////////////////////////////////////////////////////////////////////
CTmApp::CTmApp()
{
}

///////////////////////////////////////////////////////////////////////////////////
CTmApp::~CTmApp()
{
	m_pCodec = NULL;	    
}

///////////////////////////////////////////////////////////////////////////////////
bool CTmApp::InitInstance()
{
	CInt64 a(1);
	CInt64 b(2);

	m_pCodec = new CCodec;

	return true;    
}					   

///////////////////////////////////////////////////////////////////////////////////
int CTmApp::Run()
{
	if (m_pCodec)
		m_pCodec->Run();

	return 0;
}

///////////////////////////////////////////////////////////////////////////////////
bool CTmApp::ExitInstance()
{
	WK_DELETE(m_pCodec);

	return true;
}

///////////////////////////////////////////////////////////////////////////////////
// Siehe Book 2 Cookbook, Part A 31
void root(void)
{
	_main();
	theApp.InitInstance();
	
	theApp.Run();

	theApp.ExitInstance();

	_psos_exit(0);
}

