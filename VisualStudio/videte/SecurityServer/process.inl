/////////////////////////////////////////////////////////////////////////////
inline CInput *CProcess::GetAlarmInput()
{
	CInput *pInput=NULL;
	if (m_pActivation) {
		pInput=m_pActivation->GetInput();
	}
	return pInput;
}
/////////////////////////////////////////////////////////////////////////////
inline CSecID CProcess::GetID() const
{
	return m_id;
}
/////////////////////////////////////////////////////////////////////////////
inline SecProcessType CProcess::GetType() const
{
	return m_type;
}
/////////////////////////////////////////////////////////////////////////////
inline SecProcessState CProcess::GetState() const
{
	return m_state;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL	CProcess::IsMarkedForTermination() const
{
	return m_bMarkedForTermination;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL	CProcess::IsTerminated() const
{
	return m_state == SPS_TERMINATED;
}
/////////////////////////////////////////////////////////////////////////////
inline const CProcessMacro& CProcess::GetMacro() const
{
	return m_pActivation->GetMacro();
}
/////////////////////////////////////////////////////////////////////////////
inline const CActivation *CProcess::GetActivation() const
{
	return m_pActivation;
}
/////////////////////////////////////////////////////////////////////////////
inline DWORD CProcess::GetTickTerminated() const
{
	return m_tickTerminated;
}
/////////////////////////////////////////////////////////////////////////////
inline DWORD CProcess::GetTickInit() const
{
	return m_tickInit;
}
/////////////////////////////////////////////////////////////////////////////
inline const CSecTimer *CProcess::GetTimer() const
{
	return m_pTimer;
}
/////////////////////////////////////////////////////////////////////////////
inline CSecID CProcess::GetCamID() const
{
	if (m_pActivation) {
		return m_pActivation->GetOutputID();
	} else {
		return SECID_NO_ID;
	}
}
/////////////////////////////////////////////////////////////////////////////
inline void CProcess::StatLog(int iValue)
{
	if ((m_iTraceLevel==0 && (iValue >1 || iValue<-1)) || m_iTraceLevel==99) {
		// restricted tracing only on/off, or nothing at all
		return;	// EXIT
	} else {
		DoStatLog(iValue);
	}
}
/////////////////////////////////////////////////////////////////////////////
inline int CProcess::GetPictureCount()
{
	m_csPics.Lock();
	int iNumPicturesReceived = m_iNumPicturesReceived;
	m_csPics.Unlock();
	return iNumPicturesReceived;
}
/////////////////////////////////////////////////////////////////////////////
inline void CProcess::Lock(LPCTSTR /*sFkt=NULL*/)
{
	m_criticalSection.Lock();
}
/////////////////////////////////////////////////////////////////////////////
inline void CProcess::Unlock()
{
	m_criticalSection.Unlock();
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsRelayProcess() const
{
	return (m_type == SPT_RELAY);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsBackupProcess() const
{
	return (m_type == SPT_BACKUP);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsActualImageProcess() const
{
	return (m_type == SPT_ACTUAL_IMAGE);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsImageCallProcess() const
{
	return (m_type == SPT_IMAGE_CALL);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsCheckCallProcess() const
{
	return (m_type == SPT_CHECK_CALL);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsGuardTourProcess() const
{
	return (m_type == SPT_GUARD_TOUR);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsVideoOutProcess() const
{
	return (m_type == SPT_VIDEO_OUT);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsAudioProcess() const
{
	return (m_type == SPT_AUDIO);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsPTZPresetProcess() const
{
	return (m_type == SPT_PTZ_PRESET);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsAlarmListProcess() const
{
	return (m_type == SPT_ALARM_LIST);
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsUploadProcess() const
{
	return m_type == SPT_UPLOAD;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsCallProcess() const
{
	return m_type == SPT_ALARM_CALL;
}
/////////////////////////////////////////////////////////////////////////////
inline const COutput *CProcess::GetRelay() const
{
	return m_pRelay;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsRecordingProcess() const
{
	return GetMacro().GetType()==PMT_RECORD; 
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsMDProcess() const
{
	return FALSE; 
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsActiveRecordingProcess() const
{
	return (       m_state==SPS_ACTIVE_RECORDING 
		    && (   GetMacro().GetType()==PMT_RECORD 
			    || GetMacro().GetType()==PMT_UPLOAD));
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsClientProcess() const
{
	return FALSE;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsClientRelayProcess() const
{
	return FALSE;
}
/////////////////////////////////////////////////////////////////////////////
inline BOOL CProcess::IsClientEncodingProcess() const
{
	return FALSE;
}
/////////////////////////////////////////////////////////////////////////////
inline CProcessScheduler* CProcess::GetScheduler() const
{
	return m_pProcessScheduler;
}
/////////////////////////////////////////////////////////////////////////////
inline CompressionType CProcess::GetCompressionType() const
{
	return m_CompressionType;
}
